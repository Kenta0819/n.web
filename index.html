<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚¿ãƒ­ãƒƒãƒˆå ã„</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', 'Roboto', 'Meiryo', 'Segoe UI', sans-serif;
      background: radial-gradient(ellipse at 50% 10%, #232526 60%, #0d133d 100%);
      color: #fff;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      letter-spacing: 0.03em;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      overflow-x: hidden;
    }
    .author {
      position: fixed;
      top: 12px;
      left: 18px;
      font-size: 1.1em;
      color: #b3e5fc;
      opacity: 0.8;
      z-index: 100;
      letter-spacing: 0.12em;
      font-family: 'Montserrat', 'Roboto', 'Meiryo', sans-serif;
      user-select: none;
      pointer-events: none;
      text-shadow: 0 2px 8px #000a, 0 0 2px #fff;
      background: rgba(20,30,60,0.25);
      padding: 2px 14px 2px 8px;
      border-radius: 8px;
      border-left: 4px solid #29b6f6;
      font-weight: bold;
    }
    h1 {
      margin-top: 48px;
      font-size: 2.8em;
      letter-spacing: 0.14em;
      color: #fff;
      text-shadow: 0 4px 32px #1976d2, 0 0 16px #29b6f6, 0 0 2px #fff;
      font-family: 'Montserrat', 'Roboto', sans-serif;
      font-weight: 700;
      text-align: center;
      background: linear-gradient(90deg, #ffe082 20%, #29b6f6 80%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 4px 24px #0008);
      letter-spacing: 0.22em;
      animation: fadein 1.2s cubic-bezier(.4,2,.6,1);
    }
    .datetime-bar {
      margin-top: 10px;
      font-size: 1.1em;
      color: #b3e5fc;
      text-shadow: 0 2px 8px #000a;
      letter-spacing: 0.08em;
      text-align: center;
      font-family: 'Roboto', 'Montserrat', sans-serif;
      opacity: 0.85;
    }
    .tarot-area {
      margin: 38px 0 0 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100vw;
    }
    .tarot-desc {
      background: rgba(38,48,64,0.92);
      color: #ffe082;
      border-radius: 22px;
      padding: 28px 34px;
      font-size: 1.22em;
      margin-bottom: 44px;
      max-width: 480px;
      box-shadow: 0 8px 32px #000a, 0 0 16px #29b6f6;
      text-align: center;
      line-height: 1.8;
      letter-spacing: 0.09em;
      border: 2.5px solid #29b6f6;
      backdrop-filter: blur(3px);
      font-family: 'Roboto', 'Montserrat', sans-serif;
      font-weight: 500;
      animation: fadein 1.5s cubic-bezier(.4,2,.6,1);
    }
    .card-row {
      display: flex;
      gap: 36px;
      justify-content: center;
      margin-bottom: 38px;
      flex-wrap: wrap;
      width: 100vw;
      min-height: 220px;
      transition: gap 0.3s;
    }
    .tarot-card {
      width: 120px;
      height: 180px;
      background: linear-gradient(135deg, #232526 60%, #3a4e6a 100%);
      border-radius: 22px;
      box-shadow: 0 10px 36px #000c, 0 2px 0 #29b6f6;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5em;
      color: #29b6f6;
      cursor: pointer;
      position: relative;
      transition: 
        transform 0.28s cubic-bezier(.4,2,.6,1), 
        box-shadow 0.22s, 
        z-index 0.2s,
        filter 0.3s;
      user-select: none;
      border: 3.5px solid #263040;
      overflow: hidden;
      perspective: 900px;
      z-index: 1;
      filter: drop-shadow(0 2px 12px #29b6f6aa);
      background-image: repeating-linear-gradient(135deg, #26304044 0 2px, transparent 2px 16px);
      will-change: transform, filter;
    }
    .tarot-card:hover {
      transform: scale(1.18) rotate(-3deg);
      box-shadow: 0 20px 60px #29b6f6cc, 0 2px 0 #ffe082;
      border: 3.5px solid #ffe082;
      z-index: 2;
      filter: brightness(1.18) drop-shadow(0 0 24px #ffe08288);
    }
    .tarot-card.selected {
      border: 5px solid #ff8a65;
      box-shadow: 0 28px 80px #ff8a6588, 0 2px 0 #ffe082;
      background: linear-gradient(135deg, #ff8a65 60%, #6ec6ff 100%);
      color: #fff;
      transform: scale(1.45) rotate(1deg);
      z-index: 10;
      pointer-events: none;
      animation: pop 0.5s cubic-bezier(.4,2,.6,1);
      filter: brightness(1.22) drop-shadow(0 0 40px #ff8a6588);
    }
    @keyframes pop {
      0% { transform: scale(1) rotate(0deg);}
      60% { transform: scale(1.55) rotate(2deg);}
      100% { transform: scale(1.45) rotate(1deg);}
    }
    .tarot-card .back {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 22px;
      background: linear-gradient(135deg, #263040 60%, #232526 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5em;
      color: #6ec6ff;
      z-index: 1;
      transition: opacity 0.4s;
      border: 2px solid #29b6f6;
      box-shadow: 0 0 24px #29b6f644;
      background-image:
        url('data:image/svg+xml;utf8,<svg width="100" height="180" xmlns="http://www.w3.org/2000/svg"><rect x="10" y="10" width="80" height="160" rx="18" fill="none" stroke="%236ec6ff" stroke-width="3"/><circle cx="50" cy="90" r="28" fill="none" stroke="%236ec6ff" stroke-width="2"/><circle cx="50" cy="90" r="10" fill="none" stroke="%236ec6ff" stroke-width="1.5"/></svg>');
      background-repeat: no-repeat;
      background-position: center;
      filter: blur(0.5px) brightness(1.1);
    }
    .tarot-card .front {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 22px;
      background: linear-gradient(135deg, #fffde7 0%, #b3e5fc 100%);
      color: #232526;
      display: flex;
      align-items: flex-start;
      justify-content: flex-start;
      font-size: 0.88em;
      font-weight: bold;
      padding: 8px 5px 5px 5px;
      box-sizing: border-box;
      opacity: 0;
      z-index: 2;
      transition: opacity 0.4s;
      text-align: center;
      letter-spacing: 0.04em;
      text-shadow: 0 2px 8px #fff8;
      flex-direction: column;
      overflow-y: auto;
    }
    .tarot-card.flipped .back {
      opacity: 0;
    }
    .tarot-card.flipped .front {
      opacity: 1;
    }
    .tarot-img {
      width: 80px;
      height: 120px;
      object-fit: contain;
      margin: 2px auto 2px auto;
      border-radius: 12px;
      box-shadow: 0 2px 16px #0003;
      background: #fff;
      border: 2px solid #b3e5fc;
      display: block;
      transition: width 0.3s, height 0.3s;
    }
    .tarot-name {
      font-size: 1.12em;
      font-weight: bold;
      color: #29b6f6;
      margin-bottom: 2px;
      text-shadow: 0 2px 8px #fff8;
      word-break: break-all;
      line-height: 1.1;
      letter-spacing: 0.08em;
    }
    .tarot-meaning {
      font-size: 1em;
      color: #263040;
      margin-bottom: 2px;
      word-break: break-all;
      line-height: 1.1;
    }
    .tarot-domain {
      font-size: 0.95em;
      color: #1976d2;
      margin-top: 2px;
      margin-bottom: 0;
      word-break: break-all;
      line-height: 1.1;
    }
    .result-area {
      margin-top: 38px;
      text-align: center;
      font-size: 1.22em;
      color: #ffe082;
      min-height: 60px;
      letter-spacing: 0.09em;
      text-shadow: 0 2px 8px #000a;
      animation: fadein 1s;
      background: linear-gradient(135deg, #263040 60%, #232526 100%);
      border-radius: 22px;
      padding: 36px 22px;
      max-width: 520px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 8px 32px #000a, 0 0 16px #29b6f6;
      border: 2.5px solid #29b6f6;
      display: none;
      backdrop-filter: blur(3px);
      font-family: 'Roboto', 'Montserrat', sans-serif;
      font-weight: 500;
    }
    .result-area.active {
      display: block;
      animation: fadein 0.7s;
    }
    .result-emoji {
      font-size: 2.6em;
      margin-bottom: 4px;
      display: block;
      line-height: 1;
      filter: drop-shadow(0 2px 8px #ffe082);
    }
    .result-emoji.good { color: #ffe082; }
    .result-emoji.normal { color: #b3e5fc; }
    .result-emoji.bad { color: #ff8a65; }
    .result-img {
      width: 140px;
      height: 200px;
      object-fit: contain;
      margin: 0 auto 12px auto;
      border-radius: 16px;
      box-shadow: 0 2px 24px #29b6f688;
      background: #fff;
      border: 2.5px solid #6ec6ff;
      display: block;
      transition: width 0.3s, height 0.3s;
    }
    .result-name {
      font-size: 1.32em;
      font-weight: bold;
      color: #29b6f6;
      margin-bottom: 4px;
      text-shadow: 0 2px 8px #fff8;
      word-break: break-all;
      letter-spacing: 0.09em;
    }
    .result-meaning {
      font-size: 1.15em;
      color: #b3e5fc;
      margin-bottom: 8px;
      word-break: break-all;
    }
    .result-desc {
      font-size: 1.08em;
      color: #fff;
      line-height: 1.7;
      margin-bottom: 8px;
      word-break: break-all;
    }
    .result-domain {
      font-size: 1.05em;
      color: #29b6f6;
      margin-top: 2px;
      margin-bottom: 0;
      word-break: break-all;
    }
    .retry-btn {
      margin-top: 38px;
      padding: 16px 54px;
      font-size: 1.22em;
      border-radius: 14px;
      border: none;
      background: linear-gradient(90deg, #29b6f6 0%, #ffe082 100%);
      color: #232526;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s, color 0.2s;
      box-shadow: 0 2px 12px #1976d288;
      letter-spacing: 0.09em;
      display: none;
      outline: none;
      filter: drop-shadow(0 2px 12px #ffe08288);
    }
    .retry-btn.active {
      display: block;
      animation: fadein 0.7s;
    }
    .retry-btn:hover {
      background: linear-gradient(90deg, #ffe082 0%, #29b6f6 100%);
      box-shadow: 0 4px 24px #1976d288;
      color: #1976d2;
    }
    @keyframes fadein {
      from { opacity: 0; transform: translateY(20px);}
      to { opacity: 1; transform: none;}
    }
    @media (max-width: 700px) {
      h1 { font-size: 1.5em; margin-top: 18px; }
      .tarot-area { margin: 18px 0 0 0; width: 100vw; padding: 0 2vw; }
      .tarot-desc, .result-area { max-width: 98vw; font-size: 1em; padding: 12px 2vw; }
      .card-row { gap: 10px; margin-bottom: 18px; }
      .tarot-card { width: 38vw; height: 60vw; min-width: 60px; min-height: 90px; font-size: 1.2em; }
      .tarot-img, .result-img { width: 60px !important; height: 90px !important; min-width: 24px; min-height: 32px; }
      .retry-btn { width: 90vw; font-size: 1em; padding: 10px 0; }
      .datetime-bar { font-size: 1em; margin-top: 6px; }
      .result-img { width: 80px; height: 110px; }
    }
  </style>
</head>
<body>
  <div class="author">k.on</div>
  <h1>ã‚¿ãƒ­ãƒƒãƒˆå ã„</h1>
  <div class="datetime-bar" id="datetimeBar"></div>
  <div class="tarot-area">
    <div class="tarot-desc">
      6æšã®ã‚¿ãƒ­ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã‹ã‚‰1æšã‚’é¸ã‚“ã§ãã ã•ã„ã€‚<br>
      é¸ã‚“ã ã‚«ãƒ¼ãƒ‰ã«ã¯ã€ã‚ãªãŸã¸ã®ä»Šæ—¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨è§£èª¬ãŒç¾ã‚Œã¾ã™ã€‚
    </div>
    <div class="card-row" id="cardRow"></div>
    <div class="result-area" id="resultArea"></div>
    <button class="retry-btn" id="retryBtn">ã‚‚ã†ä¸€åº¦å ã†</button>
  </div>
  <script>
    // æ—¥æ™‚è¡¨ç¤º
    function updateDatetimeBar() {
      const now = new Date();
      const weekJP = ["æ—¥", "æœˆ", "ç«", "æ°´", "æœ¨", "é‡‘", "åœŸ"];
      const y = now.getFullYear();
      const m = String(now.getMonth() + 1).padStart(2, '0');
      const d = String(now.getDate()).padStart(2, '0');
      const h = String(now.getHours()).padStart(2, '0');
      const min = String(now.getMinutes()).padStart(2, '0');
      const s = String(now.getSeconds()).padStart(2, '0');
      const w = weekJP[now.getDay()];
      document.getElementById('datetimeBar').textContent = `${y}/${m}/${d} (${w}) ${h}:${min}:${s}`;
    }
    setInterval(updateDatetimeBar, 1000);
    updateDatetimeBar();

    // ã‚¿ãƒ­ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³å¢—å¼·ï¼‰
    const tarotCards = [
      { name: "æ„šè€…", meaning: "æ–°ã—ã„å§‹ã¾ã‚Šãƒ»è‡ªç”±", desc: "æœªçŸ¥ã®ä¸–ç•Œã¸é£›ã³è¾¼ã‚€å‹‡æ°—ãŒå¤§åˆ‡ãªæ—¥ã€‚å†’é™ºå¿ƒã‚’æŒã£ã¦è¡Œå‹•ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚", domain: "æ‹æ„›ãƒ»ä»•äº‹ãƒ»äººç”Ÿå…¨èˆ¬", img: "https://upload.wikimedia.org/wikipedia/commons/9/90/RWS_Tarot_00_Fool.jpg", effect: "good" },
      { name: "é­”è¡“å¸«", meaning: "å‰µé€ åŠ›ãƒ»æ„å¿—", desc: "ã‚ãªãŸã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„è¡Œå‹•åŠ›ãŒç¾å®Ÿã‚’å‹•ã‹ã—ã¾ã™ã€‚è‡ªä¿¡ã‚’æŒã£ã¦é€²ã‚“ã§ã€‚", domain: "ä»•äº‹ãƒ»å‹‰å¼·ãƒ»æ–°ã—ã„æŒ‘æˆ¦", img: "https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg", effect: "good" },
      { name: "å¥³æ•™çš‡", meaning: "ç›´æ„Ÿãƒ»çŸ¥æµ", desc: "å¿ƒã®å£°ã«è€³ã‚’å‚¾ã‘ã¦ã€‚é™ã‹ãªæ™‚é–“ãŒå¤§ããªãƒ’ãƒ³ãƒˆã‚’ãã‚Œã¾ã™ã€‚", domain: "äººé–“é–¢ä¿‚ãƒ»å‹‰å¼·ãƒ»ç²¾ç¥é¢", img: "https://upload.wikimedia.org/wikipedia/commons/8/88/RWS_Tarot_02_High_Priestess.jpg", effect: "normal" },
      { name: "å¥³å¸", meaning: "è±Šã‹ã•ãƒ»æˆé•·", desc: "æ„›æƒ…ã‚„è±Šã‹ã•ãŒåºƒãŒã‚‹æ—¥ã€‚å‘¨å›²ã«å„ªã—ã•ã‚’åˆ†ã‘ã¦ã‚ã’ã¦ã€‚", domain: "å®¶åº­ãƒ»æ‹æ„›ãƒ»äººé–“é–¢ä¿‚", img: "https://upload.wikimedia.org/wikipedia/commons/d/d2/RWS_Tarot_03_Empress.jpg", effect: "good" },
      { name: "çš‡å¸", meaning: "å®‰å®šãƒ»ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—", desc: "è‡ªåˆ†ã®ä¿¡å¿µã‚’å¤§åˆ‡ã«ã€‚ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºæ®ã™ã‚‹ã¨å‰ã€‚", domain: "ä»•äº‹ãƒ»çµ„ç¹”ãƒ»ç›®æ¨™é”æˆ", img: "https://upload.wikimedia.org/wikipedia/commons/c/c3/RWS_Tarot_04_Emperor.jpg", effect: "good" },
      { name: "æ³•ç‹", meaning: "ä¼çµ±ãƒ»ä¿¡é ¼", desc: "ä¿¡é ¼ã§ãã‚‹äººã®åŠ©è¨€ãŒå½¹ç«‹ã¡ã¾ã™ã€‚ä¼çµ±ã‚„ãƒ«ãƒ¼ãƒ«ã‚’å¤§åˆ‡ã«ã€‚", domain: "å®¶åº­ãƒ»å­¦æ ¡ãƒ»çµ„ç¹”", img: "https://upload.wikimedia.org/wikipedia/commons/8/8d/RWS_Tarot_05_Hierophant.jpg", effect: "normal" },
      { name: "æ‹äºº", meaning: "é¸æŠãƒ»æ„›", desc: "å¤§åˆ‡ãªé¸æŠã®æ™‚ã€‚å¿ƒã®å£°ã«å¾“ã£ã¦æ±ºã‚ã¾ã—ã‚‡ã†ã€‚", domain: "æ‹æ„›ãƒ»äººé–“é–¢ä¿‚ãƒ»é¸æŠ", img: "https://upload.wikimedia.org/wikipedia/commons/3/3a/TheLovers.jpg", effect: "good" },
      { name: "æˆ¦è»Š", meaning: "å‹åˆ©ãƒ»å‰é€²", desc: "å‹¢ã„ã‚ˆãé€²ã‚€ã“ã¨ã§æˆåŠŸãŒè¿‘ã¥ãã¾ã™ã€‚è¿·ã‚ãšè¡Œå‹•ã‚’ã€‚", domain: "ä»•äº‹ãƒ»å‹‰å¼·ãƒ»ã‚¹ãƒãƒ¼ãƒ„", img: "https://upload.wikimedia.org/wikipedia/commons/3/3b/RWS_Tarot_07_Chariot.jpg", effect: "good" },
      { name: "åŠ›", meaning: "å‹‡æ°—ãƒ»å„ªã—ã•", desc: "å›°é›£ã‚‚å„ªã—ã•ã¨å‹‡æ°—ã§ä¹—ã‚Šè¶Šãˆã‚‰ã‚Œã¾ã™ã€‚è‡ªåˆ†ã‚’ä¿¡ã˜ã¦ã€‚", domain: "å¥åº·ãƒ»äººé–“é–¢ä¿‚ãƒ»å›°é›£ãªçŠ¶æ³", img: "https://upload.wikimedia.org/wikipedia/commons/f/f5/RWS_Tarot_08_Strength.jpg", effect: "good" },
      { name: "éš è€…", meaning: "å†…çœãƒ»æ¢æ±‚", desc: "ä¸€äººã®æ™‚é–“ãŒå¤§åˆ‡ã€‚è‡ªåˆ†è‡ªèº«ã¨å‘ãåˆã†ã“ã¨ã§ç­”ãˆãŒè¦‹ã¤ã‹ã‚Šã¾ã™ã€‚", domain: "ç²¾ç¥é¢ãƒ»å‹‰å¼·ãƒ»äººç”Ÿã®è»¢æ©Ÿ", img: "https://upload.wikimedia.org/wikipedia/commons/4/4d/RWS_Tarot_09_Hermit.jpg", effect: "normal" },
      { name: "é‹å‘½ã®è¼ª", meaning: "è»¢æ©Ÿãƒ»å¹¸é‹", desc: "é‹æ°—ãŒå¤§ããå‹•ãæ—¥ã€‚ãƒãƒ£ãƒ³ã‚¹ã‚’é€ƒã•ãšæ´ã‚“ã§ã€‚", domain: "å…¨èˆ¬ãƒ»ãƒãƒ£ãƒ³ã‚¹ãƒ»è»¢è·", img: "https://upload.wikimedia.org/wikipedia/commons/3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg", effect: "good" },
      { name: "æ­£ç¾©", meaning: "å…¬å¹³ãƒ»æ±ºæ–­", desc: "ãƒãƒ©ãƒ³ã‚¹ã‚’å¤§åˆ‡ã«ã€‚å†·é™ãªåˆ¤æ–­ãŒè‰¯ã„çµæœã‚’ç”Ÿã¿ã¾ã™ã€‚", domain: "è£åˆ¤ãƒ»å¥‘ç´„ãƒ»äººé–“é–¢ä¿‚", img: "https://upload.wikimedia.org/wikipedia/commons/c/c0/RWS_Tarot_11_Justice.jpg", effect: "normal" },
      { name: "åŠã‚‹ã•ã‚ŒãŸç”·", meaning: "å¿è€ãƒ»è¦–ç‚¹è»¢æ›", desc: "ä»Šã¯æˆ‘æ…¢ã®æ™‚ã€‚é•ã†è¦–ç‚¹ã§ç‰©äº‹ã‚’è¦‹ã‚‹ã¨æ–°ã—ã„ç™ºè¦‹ãŒã€‚", domain: "å›°é›£ãªçŠ¶æ³ãƒ»ç²¾ç¥é¢", img: "https://upload.wikimedia.org/wikipedia/commons/2/2b/RWS_Tarot_12_Hanged_Man.jpg", effect: "normal" },
      { name: "æ­»ç¥", meaning: "çµ‚ã‚ã‚Šã¨å§‹ã¾ã‚Š", desc: "ä½•ã‹ãŒçµ‚ã‚ã‚Šã€æ–°ã—ã„ã“ã¨ãŒå§‹ã¾ã‚Šã¾ã™ã€‚å¤‰åŒ–ã‚’æã‚Œãšå—ã‘å…¥ã‚Œã¦ã€‚", domain: "è»¢è·ãƒ»åˆ¥ã‚Œãƒ»æ–°ã—ã„ã‚¹ã‚¿ãƒ¼ãƒˆ", img: "https://upload.wikimedia.org/wikipedia/commons/d/d7/RWS_Tarot_13_Death.jpg", effect: "bad" },
      { name: "ç¯€åˆ¶", meaning: "èª¿å’Œãƒ»ç™’ã—", desc: "ç„¡ç†ã›ãšè‡ªç„¶ä½“ã§ã€‚å¿ƒèº«ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æ•´ãˆã¾ã—ã‚‡ã†ã€‚", domain: "å¥åº·ãƒ»äººé–“é–¢ä¿‚ãƒ»ç”Ÿæ´»ç¿’æ…£", img: "https://upload.wikimedia.org/wikipedia/commons/f/f8/RWS_Tarot_14_Temperance.jpg", effect: "good" },
      { name: "æ‚ªé­”", meaning: "èª˜æƒ‘ãƒ»æŸç¸›", desc: "èª˜æƒ‘ã«æ³¨æ„ã€‚è‡ªåˆ†ã‚’å¾‹ã™ã‚‹ã“ã¨ã§é‹æ°—ãŒä¸ŠãŒã‚Šã¾ã™ã€‚", domain: "æ‹æ„›ãƒ»é‡‘éŠ­ãƒ»ä¾å­˜", img: "https://upload.wikimedia.org/wikipedia/commons/5/55/RWS_Tarot_15_Devil.jpg", effect: "bad" },
      { name: "å¡”", meaning: "å´©å£Šãƒ»ç›®è¦šã‚", desc: "äºˆæƒ³å¤–ã®å‡ºæ¥äº‹ãŒã‚ã‚‹ã‹ã‚‚ã€‚ãƒ”ãƒ³ãƒã¯ãƒãƒ£ãƒ³ã‚¹ã«å¤‰ã‚ã‚Šã¾ã™ã€‚", domain: "ä»•äº‹ãƒ»äººé–“é–¢ä¿‚ãƒ»ãƒˆãƒ©ãƒ–ãƒ«", img: "https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg", effect: "bad" },
      { name: "æ˜Ÿ", meaning: "å¸Œæœ›ãƒ»ç™’ã—", desc: "å¸Œæœ›ã‚’æŒã£ã¦é€²ã¿ã¾ã—ã‚‡ã†ã€‚ç™’ã—ã®æ™‚é–“ãŒå¿ƒã‚’æº€ãŸã—ã¾ã™ã€‚", domain: "æ‹æ„›ãƒ»å¤¢ãƒ»ç™’ã—", img: "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_17_Star.jpg", effect: "good" },
      { name: "æœˆ", meaning: "ä¸å®‰ãƒ»ç›´æ„Ÿ", desc: "ä¸å®‰ã‚’æ„Ÿã˜ã‚„ã™ã„æ—¥ã€‚ç›´æ„Ÿã‚’ä¿¡ã˜ã¦è¡Œå‹•ã™ã‚‹ã¨å‰ã€‚", domain: "ç²¾ç¥é¢ãƒ»æ‹æ„›ãƒ»è¿·ã„", img: "https://upload.wikimedia.org/wikipedia/commons/7/7f/RWS_Tarot_18_Moon.jpg", effect: "bad" },
      { name: "å¤ªé™½", meaning: "æˆåŠŸãƒ»å–œã³", desc: "æ˜ã‚‹ã„æœªæ¥ãŒå¾…ã£ã¦ã„ã¾ã™ã€‚è‡ªä¿¡ã‚’æŒã£ã¦é€²ã¿ã¾ã—ã‚‡ã†ã€‚", domain: "å…¨èˆ¬ãƒ»æˆåŠŸãƒ»äººé–“é–¢ä¿‚", img: "https://upload.wikimedia.org/wikipedia/commons/1/17/RWS_Tarot_19_Sun.jpg", effect: "good" },
      { name: "å¯©åˆ¤", meaning: "å†ç”Ÿãƒ»è¨±ã—", desc: "éå»ã‚’æ‰‹æ”¾ã—ã€æ–°ã—ã„è‡ªåˆ†ã«ç”Ÿã¾ã‚Œå¤‰ã‚ã‚‹æ™‚ã§ã™ã€‚", domain: "å¾©ç¸ãƒ»å†å‡ºç™ºãƒ»äººç”Ÿã®è»¢æ©Ÿ", img: "https://upload.wikimedia.org/wikipedia/commons/d/dd/RWS_Tarot_20_Judgement.jpg", effect: "normal" },
      { name: "ä¸–ç•Œ", meaning: "å®Œæˆãƒ»é”æˆ", desc: "åŠªåŠ›ãŒå®Ÿã‚’çµã³ã¾ã™ã€‚é”æˆæ„Ÿã‚’å‘³ã‚ãˆã‚‹æ—¥ã€‚", domain: "å…¨èˆ¬ãƒ»ç›®æ¨™é”æˆãƒ»çµå©š", img: "https://upload.wikimedia.org/wikipedia/commons/f/ff/RWS_Tarot_21_World.jpg", effect: "good" },
      // ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ ä¾‹
      { name: "å¸Œæœ›ã®å…‰", meaning: "å¸Œæœ›ãƒ»å†ç”Ÿ", desc: "æš—é—‡ã®ä¸­ã«ã‚‚å¿…ãšå…‰ãŒå·®ã—è¾¼ã¿ã¾ã™ã€‚å‰å‘ããªæ°—æŒã¡ã‚’å¿˜ã‚Œãšã«ã€‚", domain: "ç²¾ç¥é¢ãƒ»æ–°ã—ã„æŒ‘æˆ¦", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=facearea&w=400&h=600", effect: "good" },
      { name: "è¿·ã„é“", meaning: "è¿·ã„ãƒ»é¸æŠ", desc: "ä»Šã¯æ±ºæ–­ã‚’æ€¥ãŒãšã€ã˜ã£ãã‚Šè€ƒãˆã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚", domain: "é€²è·¯ãƒ»æ‹æ„›ãƒ»ä»•äº‹", img: "https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=facearea&w=400&h=600", effect: "normal" },
      { name: "å‹æƒ…ã®çµ†", meaning: "å‹æƒ…ãƒ»æ”¯ãˆ", desc: "å‹äººã¨ã®çµ†ãŒã‚ãªãŸã‚’æ”¯ãˆã¦ãã‚Œã¾ã™ã€‚æ„Ÿè¬ã®æ°—æŒã¡ã‚’ä¼ãˆã¦ã¿ã¦ã€‚", domain: "å‹äººé–¢ä¿‚ãƒ»äººé–“é–¢ä¿‚", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=facearea&w=400&h=600", effect: "good" },
      { name: "é‡‘é‹ä¸Šæ˜‡", meaning: "é‡‘é‹ãƒ»è±Šã‹ã•", desc: "æ€ã‚ã¬åå…¥ã‚„ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆãŒã‚ã‚‹ã‹ã‚‚ã€‚æ„Ÿè¬ã‚’å¿˜ã‚Œãšã«ã€‚", domain: "é‡‘é‹ãƒ»ä»•äº‹", img: "https://images.unsplash.com/photo-1503602642458-232111445657?auto=format&fit=facearea&w=400&h=600", effect: "good" },
      { name: "å¥åº·æ³¨æ„", meaning: "å¥åº·ãƒ»æ³¨æ„", desc: "ä½“èª¿ç®¡ç†ã‚’ã—ã£ã‹ã‚Šã¨ã€‚ç„¡ç†ã›ãšä¼‘æ¯ã‚’ã¨ã‚Šã¾ã—ã‚‡ã†ã€‚", domain: "å¥åº·ãƒ»ç”Ÿæ´»ç¿’æ…£", img: "https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=facearea&w=400&h=600", effect: "bad" },
      { name: "æ–°ã—ã„å‡ºä¼šã„", meaning: "å‡ºä¼šã„ãƒ»ç™ºè¦‹", desc: "æ–°ã—ã„äººã‚„å‡ºæ¥äº‹ã¨ã®å‡ºä¼šã„ãŒã‚ãªãŸã‚’æˆé•·ã•ã›ã¾ã™ã€‚", domain: "æ‹æ„›ãƒ»ä»•äº‹ãƒ»è¶£å‘³", img: "https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=facearea&w=400&h=600", effect: "good" },
      { name: "ä¼‘æ¯ã®å¿…è¦", meaning: "ä¼‘æ¯ãƒ»ç™’ã—", desc: "ä»Šæ—¥ã¯ç„¡ç†ã›ãšã€ã‚†ã£ãã‚Šä¼‘ã‚€ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚", domain: "å¥åº·ãƒ»ç²¾ç¥é¢", img: "https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=facearea&w=400&h=600", effect: "normal" },
      { name: "æŒ‘æˆ¦ã®æ™‚", meaning: "æŒ‘æˆ¦ãƒ»æˆé•·", desc: "å›°é›£ã«ç«‹ã¡å‘ã‹ã†ã“ã¨ã§å¤§ããæˆé•·ã§ãã¾ã™ã€‚", domain: "ä»•äº‹ãƒ»å‹‰å¼·ãƒ»ã‚¹ãƒãƒ¼ãƒ„", img: "https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=facearea&w=400&h=600", effect: "good" },
      { name: "ç›´æ„ŸãŒå†´ãˆã‚‹", meaning: "ç›´æ„Ÿãƒ»ã²ã‚‰ã‚ã", desc: "ã²ã‚‰ã‚ãã«å¾“ã£ã¦è¡Œå‹•ã™ã‚‹ã¨è‰¯ã„çµæœã«ã€‚", domain: "ä»•äº‹ãƒ»å‹‰å¼·ãƒ»å‰µä½œ", img: "https://images.unsplash.com/photo-1465101178521-c1a9136a3b99?auto=format&fit=facearea&w=400&h=600", effect: "good" },
      { name: "å®¶æ—é‹", meaning: "å®¶æ—ãƒ»å®‰å¿ƒ", desc: "å®¶æ—ã¨ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã€‚å®‰å¿ƒã§ãã‚‹æ—¥ã§ã™ã€‚", domain: "å®¶æ—ãƒ»å®¶åº­", img: "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=facearea&w=400&h=600", effect: "good" }
    ];

    // 6æšã®ã‚«ãƒ¼ãƒ‰ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆ
    function getRandomCards() {
      const arr = [];
      const used = new Set();
      while (arr.length < 6) {
        const idx = Math.floor(Math.random() * tarotCards.length);
        if (!used.has(idx)) {
          used.add(idx);
          arr.push(tarotCards[idx]);
        }
      }
      return arr;
    }

    let cards = [];
    let selected = false;

    function getEffectEmoji(effect) {
      if (effect === "good") return '<span class="result-emoji good" title="è‰¯ã„å½±éŸ¿">ğŸ˜Š è‰¯ã„</span>';
      if (effect === "normal") return '<span class="result-emoji normal" title="æ™®é€š">ğŸ˜ æ™®é€š</span>';
      if (effect === "bad") return '<span class="result-emoji bad" title="è‰¯ããªã„">ğŸ˜¢ è‰¯ããªã„</span>';
      return '';
    }

    function renderCards() {
      const row = document.getElementById('cardRow');
      row.innerHTML = '';
      cards.forEach((card, idx) => {
        const div = document.createElement('div');
        div.className = 'tarot-card';
        div.innerHTML = `
          <div class="back"></div>
          <div class="front">
            <img class="tarot-img" src="${card.img}" alt="${card.name}" />
            <div class="tarot-name">${card.name}</div>
            <div class="tarot-meaning">${card.meaning}</div>
            <div class="tarot-domain">${card.domain}</div>
          </div>
        `;
        div.onclick = () => {
          if (selected) return;
          selected = true;
          document.querySelectorAll('.tarot-card').forEach((el, i) => {
            if (i === idx) {
              el.classList.add('flipped', 'selected');
            } else {
              el.classList.add('flipped');
              el.style.opacity = "0.15";
              el.style.filter = "blur(2px) grayscale(0.8)";
            }
          });
          showResult(card);
        };
        row.appendChild(div);
      });
    }

    function showResult(card) {
      document.getElementById('resultArea').innerHTML =
        `${getEffectEmoji(card.effect)}
         <img class="result-img" src="${card.img}" alt="${card.name}">
         <div class="result-name">${card.name}</div>
         <div class="result-meaning">${card.meaning}</div>
         <div class="result-desc">${card.desc}</div>
         <div class="result-domain">å½±éŸ¿ãŒå‡ºã‚„ã™ã„åˆ†é‡ï¼š${card.domain}</div>`;
      document.getElementById('resultArea').classList.add('active');
      document.getElementById('retryBtn').classList.add('active');
      setTimeout(() => {
        document.getElementById('resultArea').scrollIntoView({behavior: "smooth", block: "center"});
      }, 250);
    }

    function resetTarot() {
      selected = false;
      cards = getRandomCards();
      document.getElementById('resultArea').innerHTML = '';
      document.getElementById('resultArea').classList.remove('active');
      document.getElementById('retryBtn').classList.remove('active');
      renderCards();
    }

    window.onload = function() {
      document.getElementById('retryBtn').onclick = resetTarot;
      resetTarot();
    };
  </script>
</body>
</html>